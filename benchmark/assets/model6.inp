! this file will not produce correct results if the multicategorical m_nom is incomplete
! mplus does not support incomplete nominal predictors
DATA: 
  file = data1.dat;
VARIABLE: 
  names = y y_bin y_nom y_cnt y_2pt m1 m2 m_nom m_bin 
    x1 x2 x3 x4 xs1 xs2 xs3 xs4 xc1 xc2 xc3 xc4;
  usevariables = y xc1 xc2 xc3 xc4 m1dummy m2dummy;
  categorical = xc1 xc2 xc3 xc4;
DEFINE: 
  m1dummy = 0;
  m2dummy = 0;
  if (m_nom == 1) then m1dummy = 1;
  if (m_nom == 2) THEN m2dummy = 1;
ANALYSIS:
  estimator = bayes;
  bseed = 90291;
  fbiterations = 20000;
MODEL:
  eta on m1dummy m2dummy;
  eta@1;
  eta by xc1* xc2 xc3 xc4;
  xc3 with xc4;
  y on eta m1dummy m2dummy;
OUTPUT: 
  cinterval stdyx tech8;